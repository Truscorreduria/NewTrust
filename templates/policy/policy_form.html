{% extends 'dashboard/index.html' %}
{% block pageContent %}
    {% if form.errors %}
        <div class="alert alert-danger m-4" role="alert">
          Verifique los valores <strong> - intente de nuevo! {{ form.errors }}</strong>
        </div>
    {% endif %}
    <div class="card shadow-lg border-0 rounded-lg mt-5 mx-4">
        <div class="card-header">
            <strong>Registro De Poliza</strong>
        </div>
        <div class="card-body">
            <form method="post">{% csrf_token %}
                <div class="row">
                    <div class="col">
                        <label for="#">{{ form.id.label }}</label>
                        {{ form.id }}
                    </div>
                    <div class="col">
                        <label for="#">{{ form.ramo.label }}</label>
                        {{form.ramo}}
                    </div>
                    <div class="col">
                        <label for="#">{{ form.subramo.label }}</label>
                        {{ form.subramo }}
                    </div>
                    <div class="col">
                        <label for="#">{{ form.fechaInicio.label }}</label>
                        {{ form.fechaInicio }}
                    </div>
                    <div class="col">
                        <label for="#">{{ form.fechaFin.label }}</label>
                        {{ form.fechaFin }}
                    </div>
                    <div class="col">
                        <label for="#">{{ form.aseguradora.label }}</label>
                        {{ form.aseguradora }}
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="#">{{ form.ejecutivo.label }}</label>
                        {{ form.ejecutivo }}
                    </div>
                    <div class="col">
                        <label for="#">{{ form.cliente.label }}</label>
                        {{ form.cliente }}
                    </div>
                    <div class="col">
                        <label for="#">{{ form.contratante.label }}</label>
                        {{ form.contratante }}
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="#">{{ form.grupo.label }}</label>
                        {{ form.grupo }}
                    </div>
                    <div class="col">
                        <label for="#">{{ form.tipo.label }}</label>
                        {{ form.tipo }}
                    </div>
                    <div class="col">
                        <label for="#">{{ form.concepto.label }}</label>
                        {{ form.concepto }}
                    </div>
                    <div class="col">
                        <div class="col form-check form-switch mt-4">
                          {{ form.cesionario }}
                          <label class="form-check-label" for="flexSwitchCheckDefault">{{ form.cesionario.label }}</label>
                        </div>
                    </div>
                </div>
                <div class=" py-3">
                    <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i>Guardar</button>
                    <a href="{% url 'customer:personaNatural_list' %}" class="btn btn-secondary"><i class="fas fa-trash-alt"></i> Cancelar</a>
                </div>
            </form>
        </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>



    <script>
    $(() =>{
        $('#id_cliente').select2({
          ajax: {
            url: '{% url 'policy:Name_client' %}',
            data: function (params) {
              return {
                q: params.term
              }
              // Query parameters will be ?search=[term]&page=[page]
            }
          }
        });
        $('#id_contratante').select2({
          ajax: {
            url: '{% url 'policy:Name_client' %}',
            data: function (params) {
              return {
                q: params.term
              }
              // Query parameters will be ?search=[term]&page=[page]
            }
          }
        });
         $(function () {
            $(".datepicker").datepicker({
                dateFormat: "yy-mm-dd"
            });
        });
    })
    </script>
{% endblock pageContent %}